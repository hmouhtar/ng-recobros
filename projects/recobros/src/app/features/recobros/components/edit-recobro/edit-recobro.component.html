<h1 class="section-title">Administrar Recobro</h1>
{{ editRecobroForm.form.value | json }}
<form ngNativeValidate #editRecobroForm="ngForm" (ngSubmit)="editRecobro(editRecobroForm)">
  <mat-tab-group>
    <ng-container *ngFor="let section of sortedFieldLabels">
      <mat-tab [disabled]="'recoverySituation' === section && recobro.recoveryRoute != 2">
        <ng-template mat-tab-label [ngSwitch]="section">
          <ng-container *ngSwitchCase="'recoveryInfo'">Datos del Recobro</ng-container>
          <ng-container *ngSwitchCase="'recoveryStatus'">Estado del Recobro</ng-container>
          <ng-container *ngSwitchCase="'recoverySituation'">Situaci√≥n Judicial</ng-container>
          <ng-container *ngSwitchCase="'recoveryClose'">Cierre del Recobro / Minutas</ng-container>
        </ng-template>

        <br />
        <div *ngIf="allFields[section]" fxLayout="row wrap" fxLayoutAlign="space-between">
          <ng-container *ngFor="let field of allFields[section]">
            <alvea-dynamic-field
              fxFlex="0 0 48%"
              *ngIf="!field.displayCondition || field.displayCondition.call(this, editRecobroForm)"
              [field]="field"
            ></alvea-dynamic-field>
          </ng-container>
        </div>
      </mat-tab>
    </ng-container>
  </mat-tab-group>
  <button
    [disabled]="!editRecobroForm.form.valid || loadingAction"
    mat-raised-button
    color="primary"
  >
    Editar recobro
    <mat-spinner *ngIf="loadingAction" id="spinner" [diameter]="20"> </mat-spinner>
  </button>
</form>
